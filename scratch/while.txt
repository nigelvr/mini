class WhileAST(AST):
    def __init__(self, cond, body):
        print(f'WhileAST: cond={cond}, body={body}')
        super().__init__(self, cond, body)

    @property
    def cond(self):
        return self.root
    
    @property
    def body(self):
        return self.children
    
    def emit(self, env):
        while self.cond.emit(env):
            

def p_while(p):
    'while : WHILE LPAREN expression RPAREN LSQB funcbody RSQB'
    cond = p[3]
    body = p[6]
    p[0] = WhileAST(cond, body)